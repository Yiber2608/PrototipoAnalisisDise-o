<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionar Productos y Servicios - DIAN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container py-4">
        <div class="row mb-4 align-items-center">
            <div class="col">
                <h1 class="h2 fw-bold text-primary">Gestionar Productos y Servicios</h1>
            </div>
        </div>

        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <div class="row g-3 align-items-center">
                    <div class="col-auto">
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarItemModal">
                            <i class="bi bi-plus-circle me-2"></i>Nuevo Ítem
                        </button>
                    </div>
                    <div class="col-auto">
                        <div class="btn-group" role="group" aria-label="Importar/Exportar">
                            <button class="btn btn-outline-secondary btn-sm" title="Importar">
                                <i class="bi bi-upload me-1"></i>Importar
                            </button>
                            <button class="btn btn-outline-secondary btn-sm" title="Exportar">
                                <i class="bi bi-download me-1"></i>Exportar
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text bg-light">
                                <i class="bi bi-search"></i>
                            </span>
                            <input type="text" class="form-control" id="searchInput"
                                placeholder="Buscar por nombre, código o categoría..." oninput="aplicarFiltros()">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select form-select-sm" id="tipoItemFilter" onchange="aplicarFiltros()">
                            <option value="">Todos los tipos</option>
                            <option value="Producto">Productos</option>
                            <option value="Servicio">Servicios</option>
                            <option value="Combo">Combos</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row row-cols-1 row-cols-md-4 g-4 mb-4">
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="card-subtitle mb-1 text-muted">Total de Ítems</h6>
                                <h2 id="totalItems" class="card-title mb-0">1,234</h2>
                            </div>
                            <div class="icon-shape bg-primary text-white rounded-circle shadow">
                                <i class="bi bi-box"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="card-subtitle mb-1 text-muted">Productos</h6>
                                <h2 id="totalProductos" class="card-title mb-0">789</h2>
                            </div>
                            <div class="icon-shape bg-success text-white rounded-circle shadow">
                                <i class="bi bi-cart"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="card-subtitle mb-1 text-muted">Servicios</h6>
                                <h2 id="totalServicios" class="card-title mb-0">345</h2>
                            </div>
                            <div class="icon-shape bg-info text-white rounded-circle shadow">
                                <i class="bi bi-gear"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="card-subtitle mb-1 text-muted">Combos</h6>
                                <h2 id="totalCombos" class="card-title mb-0">100</h2>
                            </div>
                            <div class="icon-shape bg-warning text-white rounded-circle shadow">
                                <i class="bi bi-box-seam"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabla de productos y servicios -->
        <div class="table-container shadow-lg">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Acciones</th>
                        <th>Código</th>
                        <th>Nombre</th>
                        <th>Tipo</th>
                        <th>Categoría</th>
                        <th>Precio</th>
                        <th>IVA (%)</th>
                    </tr>
                </thead>
                <tbody id="itemsTableBody">
                    <!-- Los items se cargarán dinámicamente aquí -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal para ver ítem -->
    <div class="modal fade" id="verItemModal" tabindex="-1" aria-labelledby="verItemModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="verItemModalLabel">Ver Detalles del Ítem</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="verItemModalBody">
                    <!-- Los detalles del ítem se cargarán dinámicamente aquí -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para actualizar ítem -->
    <div class="modal fade" id="actualizarItemModal" tabindex="-1" aria-labelledby="actualizarItemModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="actualizarItemModalLabel">
                        <i class="bi bi-pencil-square me-2"></i>Actualizar Ítem
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="actualizarItemForm" class="needs-validation" novalidate>
                        <input type="hidden" id="itemId">

                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="nombreItem"
                                        placeholder="Nombre del ítem" required>
                                    <label for="nombreItem">Nombre del ítem</label>
                                    <div class="invalid-feedback">Por favor, ingrese el nombre del ítem.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="codigoItem" placeholder="Código único"
                                        required readonly>
                                    <label for="codigoItem">Código único</label>
                                    <div class="invalid-feedback">Por favor, ingrese el código único.</div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="number" class="form-control" id="precioBaseItem"
                                        placeholder="Precio base" required min="0" step="0.01">
                                    <label for="precioBaseItem">Precio base</label>
                                    <div class="invalid-feedback">Por favor, ingrese un precio base válido.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <select class="form-select" id="categoriaItem" required>
                                        <!-- Las opciones se cargarán dinámicamente -->
                                    </select>
                                    <label for="categoriaItem">Categoría</label>
                                    <div class="invalid-feedback">Por favor, seleccione una categoría.</div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="number" class="form-control" id="precioItem"
                                        placeholder="Precio de venta" required min="0" step="0.01">
                                    <label for="precioItem">Precio de venta</label>
                                    <div class="invalid-feedback">Por favor, ingrese un precio de venta válido.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <select class="form-select" id="ivaItem" required>
                                        <option value="0">0% - Exento</option>
                                        <option value="5">5% - Reducido</option>
                                        <option value="19">19% - General</option>
                                    </select>
                                    <label for="ivaItem">IVA (%)</label>
                                    <div class="invalid-feedback">Por favor, seleccione un tipo de IVA.</div>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea class="form-control" id="descripcionItem" placeholder="Descripción"
                                        style="height: 100px" required></textarea>
                                    <label for="descripcionItem">Descripción</label>
                                    <div class="invalid-feedback">Por favor, ingrese una descripción.</div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="tipoItem" placeholder="Tipo" readonly>
                                    <label for="tipoItem">Tipo</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="codigoUNSPSC"
                                        placeholder="Código UNSPSC" required>
                                    <label for="codigoUNSPSC">Código UNSPSC</label>
                                    <div class="invalid-feedback">Por favor, ingrese un código UNSPSC válido.</div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <select class="form-select" id="unidadMedida" required>
                                        <!-- Las opciones se cargarán dinámicamente -->
                                    </select>
                                    <label for="unidadMedida">Unidad de Medida</label>
                                    <div class="invalid-feedback">Por favor, seleccione una unidad de medida.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="programaDIAN"
                                        placeholder="Programa DIAN" required>
                                    <label for="programaDIAN">Programa DIAN</label>
                                    <div class="invalid-feedback">Por favor, ingrese el programa DIAN correspondiente.
                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <label for="imagenItem" class="form-label">Imagen del ítem</label>
                                <input type="file" class="form-control" id="imagenItem" accept="image/*">
                            </div>

                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea class="form-control" id="descripcionCambios"
                                        placeholder="Descripción de los cambios" style="height: 100px"
                                        required></textarea>
                                    <label for="descripcionCambios">Descripción de los cambios</label>
                                    <div class="invalid-feedback">Por favor, describa los cambios realizados.</div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer bg-light">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-2"></i>Cerrar
                    </button>
                    <button type="button" class="btn btn-primary" onclick="validarYGuardar()">
                        <i class="bi bi-check-circle me-2"></i>Guardar Cambios
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para eliminar ítem -->
    <div class="modal fade" id="eliminarItemModal" tabindex="-1" aria-labelledby="eliminarItemModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="eliminarItemModalLabel">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>Confirmar Eliminación
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning" role="alert">
                        <i class="bi bi-question-circle-fill me-2"></i>
                        <strong>¿Está seguro de que desea eliminar el siguiente ítem?</strong>
                    </div>
                    <div class="card mb-3">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Detalles del ítem a eliminar:</h6>
                            <p id="eliminarItemInfo" class="card-text"></p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="razonEliminacion" class="form-label">
                            <i class="bi bi-pencil-fill me-2"></i>Razón de eliminación:
                        </label>
                        <textarea class="form-control" id="razonEliminacion" rows="3" required
                            placeholder="Por favor, explique brevemente por qué desea eliminar este ítem..."></textarea>
                        <div class="invalid-feedback">
                            Por favor, ingrese una razón para la eliminación.
                        </div>
                    </div>
                </div>
                <div class="modal-footer bg-light">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-2"></i>Cancelar
                    </button>
                    <button type="button" class="btn btn-danger" onclick="confirmarEliminacion()">
                        <i class="bi bi-trash-fill me-2"></i>Eliminar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para agregar nuevo ítem -->
    <div class="modal fade" id="agregarItemModal" tabindex="-1" aria-labelledby="agregarItemModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="agregarItemModalLabel">Ingreso de Productos y Servicios</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs mb-3" id="itemTypeTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="producto-tab" data-bs-toggle="tab"
                                data-bs-target="#producto" type="button" role="tab" aria-controls="producto"
                                aria-selected="true">Producto</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="servicio-tab" data-bs-toggle="tab" data-bs-target="#servicio"
                                type="button" role="tab" aria-controls="servicio"
                                aria-selected="false">Servicio</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="combo-tab" data-bs-toggle="tab" data-bs-target="#combo"
                                type="button" role="tab" aria-controls="combo" aria-selected="false">Combo</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="itemTypeTabContent">

                        <div class="tab-pane fade show active " id="producto" role="tabpanel"
                            aria-labelledby="producto-tab">
                            <form id="formProductos" class="needs-validation" novalidate>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="nombreProducto" class="form-label">Nombre del producto</label>
                                        <input type="text" class="form-control" id="nombreProducto" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el nombre del producto.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="codigoUnico" class="form-label">Código único</label>
                                        <input type="text" class="form-control" id="codigoUnico" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el código único.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="codigoDIAN" class="form-label">Código DIAN</label>
                                        <input type="text" class="form-control" id="codigoDIAN" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el código DIAN si lo sabes.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="categoria" class="form-label">Categoría</label>
                                        <select class="form-select" id="categoria" required>
                                            <option value="">Seleccione una categoría</option>
                                            <!-- Opciones de categoría se cargarán dinámicamente -->
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione una categoría.
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label for="precioBase" class="form-label">Precio base</label>
                                        <input type="number" class="form-control" id="precioBase" required min="0"
                                            step="0.01">
                                        <div class="invalid-feedback">
                                            Por favor, ingrese un precio base válido.
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="impuestosAplicables" class="form-label">Impuestos aplicables
                                            (DIAN)</label>
                                        <select class="form-select" id="impuestosAplicables" required>
                                            <option value="0">0% - Exento</option>
                                            <option value="5">5% - Reducido</option>
                                            <option value="19">19% - General</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione los impuestos aplicables.
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="precioVenta" class="form-label">Precio de venta</label>
                                        <input type="number" class="form-control" id="precioVenta" required min="0"
                                            step="0.01">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="descripcion" class="form-label">Descripción</label>
                                    <textarea class="form-control" id="descripcion" rows="3" required></textarea>
                                    <div class="invalid-feedback">
                                        Por favor, ingrese una descripción.
                                    </div>
                                </div>

                                <button class="btn btn-outline-secondary" id="opcionesAvanzadasProducto" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#opcionesAvanzadasProductoCollapse"
                                    aria-expanded="false" aria-controls="opcionesAvanzadasProductoCollapse">
                                    Opciones avanzadas
                                </button>

                                <div>
                                    <div class="collapse collapse-horizontal" id="opcionesAvanzadasProductoCollapse">
                                        <div class="row">

                                            <div class="col-6">
                                                <label for="imagenProducto" class="form-label">Imagen del
                                                    producto</label>
                                                <input type="file" class="form-control" id="imagenProducto"
                                                    accept="image/*">
                                            </div>

                                            <div class="col-md-6">
                                                <label for="cantidadInicialProducto" class="form-label">Cantidad
                                                    Inicial</label>
                                                <input type="number" class="form-control" id="cantidadInicialProducto"
                                                    required min="0" step="0.01">
                                            </div>

                                            <div class="col-md-6">
                                                <label for="codigoBarrasProducto" class="form-label">Codigo de
                                                    Barras</label>
                                                <input type="number" class="form-control" id="codigoBarrasProducto"
                                                    required min="0" step="0.01">
                                            </div>

                                            <div class="col-6">
                                                <label for="unidadMedidaNuevo" class="form-label">Unidad de
                                                    Medida</label>
                                                <select class="form-select" id="unidadMedidaNuevo" required>
                                                    <!-- Las opciones se cargarán dinámicamente -->
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="container-fluid text-center mt-3">
                                    <button type="button" class="btn btn-primary"
                                        onclick="validarYGuardarProductos()">Guardar cambios</button>
                                </div>

                            </form>
                        </div>

                        <div class="tab-pane fade" id="servicio" role="tabpanel" aria-labelledby="servicio-tab">
                            <form action="" id="form-servicios">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="nombreServicio" class="form-label">Nombre del servicio</label>
                                        <input type="text" class="form-control" id="nombreServicio" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el nombre del servicio.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="codigoUnicoServicio" class="form-label">Código único</label>
                                        <input type="text" class="form-control" id="codigoUnicoServicio" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el código único.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="codigoDIANServicio" class="form-label">Código DIAN</label>
                                        <input type="text" class="form-control" id="codigoDIANServicio" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el código DIAN si lo sabes.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="categoriaServicio" class="form-label">Categoría</label>
                                        <select class="form-select" id="categoriaServicio" required>
                                            <option value="">Seleccione una categoría</option>
                                            <!-- Opciones de categoría se cargarán dinámicamente -->
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione una categoría.
                                        </div>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label for="precioBaseServicio" class="form-label">Precio base</label>
                                        <input type="number" class="form-control" id="precioBaseServicio" required
                                            min="0" step="0.01">
                                        <div class="invalid-feedback">
                                            Por favor, ingrese un precio base válido.
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="impuestosAplicablesServicio" class="form-label">Impuestos
                                            aplicables (DIAN)</label>
                                        <select class="form-select" id="impuestosAplicablesServicio" required>
                                            <option value="0">0% - Exento</option>
                                            <option value="5">5% - Reducido</option>
                                            <option value="19">19% - General</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione los impuestos aplicables.
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="precioVentaServicio" class="form-label">Precio de venta</label>
                                        <input type="number" class="form-control" id="precioVentaServicio" required
                                            min="0" step="0.01">
                                        <div class="invalid-feedback">
                                            Por favor, ingrese un precio de venta válido.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="descripcionServicio" class="form-label">Descripción</label>
                                    <textarea class="form-control" id="descripcionServicio" rows="3"
                                        required></textarea>
                                    <div class="invalid-feedback">
                                        Por favor, ingrese una descripción.
                                    </div>
                                </div>
                                <button class="btn btn-outline-secondary" id="opcionesAvanzadasServicio" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#opcionesAvanzadasServicioCollapse"
                                    aria-expanded="false" aria-controls="opcionesAvanzadasServicioCollapse">
                                    Opciones avanzadas
                                </button>

                                <div class="collapse collapse-horizontal" id="opcionesAvanzadasServicioCollapse">
                                    <div class="row">

                                        <div class="col-6">
                                            <label for="imagenServicio" class="form-label">Imagen de servicio</label>
                                            <input type="file" class="form-control" id="imagenServicio"
                                                accept="image/*">
                                        </div>

                                        <div class="col-6">
                                            <label for="unidadMedidaServicio" class="form-label">Unidad de
                                                Medida</label>
                                            <select class="form-select" id="unidadMedidaServicio" required>
                                                <!-- Las opciones se cargarán dinámicamente -->
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="container-fluid text-center mt-3">
                                    <button type="button" class="btn btn-primary"
                                        onclick="validarYGuardarServicio()">Guardar Servicio</button>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="combo" role="tabpanel" aria-labelledby="combo-tab">
                            <form action="" id="form-combos">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="nombreCombo" class="form-label">Nombre del combo</label>
                                        <input type="text" class="form-control" id="nombreCombo" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el nombre del combo.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="codigoUnicoCombo" class="form-label">Código único</label>
                                        <input type="text" class="form-control" id="codigoUnicoCombo" required>
                                        <div class="invalid-feedback">
                                            Por favor, ingrese el código único.
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="precioBaseCombo" class="form-label">Precio base</label>
                                        <input type="number" class="form-control" id="precioBaseCombo" required min="0"
                                            step="0.01">
                                        <div class="invalid-feedback">
                                            Por favor, ingrese un precio base válido.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="categoriaCombo" class="form-label">Categoría</label>
                                        <select class="form-select" id="categoriaCombo" required>
                                            <option value="">Seleccione una categoría</option>
                                            <!-- Opciones de categoría se cargarán dinámicamente -->
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione una categoría.
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="precioVentaCombo" class="form-label">Precio de venta</label>
                                        <input type="number" class="form-control" id="precioVentaCombo" required min="0"
                                            step="0.01">
                                        <div class="invalid-feedback">
                                            Por favor, ingrese un precio de venta válido.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="impuestosAplicablesCombo" class="form-label">Impuestos
                                            aplicables (DIAN)</label>
                                        <select class="form-select" id="impuestosAplicablesCombo" required>
                                            <option value="0">0% - Exento</option>
                                            <option value="5">5% - Reducido</option>
                                            <option value="19">19% - General</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, seleccione los impuestos aplicables.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="descripcionCombo" class="form-label">Descripción</label>
                                    <textarea class="form-control" id="descripcionCombo" rows="3" required></textarea>
                                    <div class="invalid-feedback">
                                        Por favor, ingrese una descripción.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="imagenCombo" class="form-label">Imagen del combo</label>
                                    <input type="file" class="form-control" id="imagenCombo" accept="image/*">
                                </div>
                                <div class="mb-3">
                                    <label for="programaDIANCombo" class="form-label">Programa DIAN</label>
                                    <input type="text" class="form-control" id="programaDIANCombo" required>
                                    <div class="invalid-feedback">
                                        Por favor, ingrese el programa DIAN correspondiente.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="itemsCombo" class="form-label">Agregar productos o servicios al
                                        combo</label>
                                    <div class="input-group mb-3">
                                        <select class="form-select" id="itemCombo">
                                            <option value="">Seleccione un producto o servicio</option>
                                            <!-- Opciones se cargarán dinámicamente -->
                                        </select>
                                        <input type="number" class="form-control" id="cantidadItemCombo"
                                            placeholder="Cantidad" min="1" value="1">
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="agregarItemAlCombo()">Agregar</button>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <h6>Productos y servicios en el combo:</h6>
                                    <ul id="listaItemsCombo" class="list-group">
                                        <!-- Los items del combo se agregarán aquí dinámicamente -->
                                    </ul>
                                </div>
                                <div class="form-footer">

                                </div>
                                <button type="button" class="btn btn-primary" onclick="validarYGuardarCombo()">Guardar
                                    cambios</button>

                            </form>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts2.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>